<!-- 

  1. 如何延後 v-model 反應
    - v-model.lazy
  2. 輸出 HTML 標籤
  3. 如何將換行轉換為 br

 -->
<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lab</title>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<body>

  <form id="app" class="form-horizontal">
    <fieldset>

      <!-- Form Name -->
      <legend>Form Name</legend>

      <!-- Text input-->
      <div class="form-group">
        <label class="col-md-4 control-label" for="title">Text:</label>
        <div class="col-md-4">
          <!-- 
            離開焦點時才執行資料傳遞
           -->
          <input v-model.lazy="title" id="title" name="title" type="text" placeholder="" class="form-control input-md">

        </div>
      </div>

      <!-- Text input-->
      <div class="form-group">
        <label class="col-md-4 control-label" for="price">Price:</label>
        <div class="col-md-4">
          <input v-model="price" id="price" name="price" type="number" placeholder="" class="form-control input-md">

        </div>
      </div>

      <!-- Textarea -->
      <div class="form-group">
        <label class="col-md-4 control-label" for="description">Description</label>
        <div class="col-md-4">
          <textarea v-model="description" class="form-control" id="description" name="description"></textarea>
        </div>
      </div>
    </fieldset>

    <hr>
    <!-- 
      輸出 html 標籤 
      element.innerHTML = "";
    -->
    <h3 v-html="title">{{ title }}</h3>
    <h3>{{ price }}</h3>
    <div v-html="descriptionFormat">{{ descriptionFormat }}</div>

  </form>


  <script>

    let app = new Vue({
      el: '#app',
      data: {
        title: 'show title here',
        price: 'show price here',
        description: 'show description here'
      },
      methods: {
        setTitle(inputEl) {
          this.title = title;
        }
      },
      computed: {
        descriptionFormat() {
          // 將所有系統換行符號替換成 <br>
          return this.description.replace(/\n|\r\n/g, "<br>")
        }
      },
    })


  </script>

</body>

</html>